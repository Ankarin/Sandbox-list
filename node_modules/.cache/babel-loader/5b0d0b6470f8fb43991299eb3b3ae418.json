{"ast":null,"code":"import _toConsumableArray from \"/home/cubex/my finished projects/Nested Lists/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/cubex/my finished projects/Nested Lists/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/cubex/my finished projects/Nested Lists/src/List.js\";\nimport React, { useState } from \"react\";\nimport axios from 'axios';\nimport AddNestedItem from \"./AddNestedItem\";\nimport './App.scss';\nexport default function List(_ref) {\n  var item = _ref.item,\n      sortKey = _ref.sortKey,\n      index = _ref.index,\n      id = _ref.id,\n      removeItem = _ref.removeItem,\n      Up = _ref.Up,\n      Down = _ref.Down,\n      list = _ref.list;\n\n  // Toggle form for adding new list item\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      form = _useState2[0],\n      setForm = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      nestedList = _useState4[0],\n      setNestedList = _useState4[1];\n\n  var move = function move(array, from, to) {\n    var sortKeyTo = array[from].sortKey;\n    array[from].sortKey = array[to].sortKey;\n    array[to].sortKey = sortKeyTo;\n    return array;\n  };\n\n  var addNestedItem = function addNestedItem(message) {\n    var currentIds = nestedList.map(function (data) {\n      return data.id;\n    });\n    var idToBeAdded = 0;\n\n    while (currentIds.includes(idToBeAdded)) {\n      ++idToBeAdded;\n    }\n\n    axios.post(\"http://localhost:3001/list/add\", {\n      sortKey: idToBeAdded,\n      message: message,\n      nested: {}\n    });\n    var newList = [].concat(_toConsumableArray(nestedList), [{\n      id: idToBeAdded,\n      sortKey: idToBeAdded,\n      message: message\n    }]);\n    setNestedList(newList);\n  };\n\n  var removeNestedItem = function removeNestedItem(index) {\n    var newList = _toConsumableArray(nestedList);\n\n    newList.splice(index, 1);\n    setNestedList(newList);\n  }; // Move elements in array up and down\n\n\n  var UpNested = function UpNested(id, array) {\n    var newList = _toConsumableArray(nestedList); // setList(newList)\n\n\n    setNestedList(move(newList, id, id - 1));\n  };\n\n  var DownNested = function DownNested(id, array) {\n    var newList = _toConsumableArray(nestedList); // setList(newList)\n\n\n    setNestedList(move(newList, id, id + 1));\n  }; // console.log(nestedList.map(a=>a.text))\n\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, item.message, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: function onClick() {\n      return removeItem(id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Remove\"), \" \", React.createElement(\"button\", {\n    onClick: function onClick() {\n      return setForm(!form);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Add Sublist\"), id !== 0 ? React.createElement(\"button\", {\n    onClick: function onClick() {\n      return Up(id, nestedList);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Up\") : null, id !== list.length - 1 ? React.createElement(\"button\", {\n    onClick: function onClick() {\n      return Down(id, nestedList);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Down\") : null, nestedList.length > 0 ? React.createElement(\"button\", {\n    onClick: function onClick() {\n      return setNestedList([]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Remove Sublist\") : null, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, nestedList.length > 0 ? nestedList.sort(function (a, b) {\n    return a.sortKey - b.sortKey;\n  }).map(function (item, index) {\n    return React.createElement(\"li\", {\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(List, {\n      item: item,\n      index: item.id,\n      id: nestedList.indexOf(item),\n      indexof: nestedList.indexOf(item),\n      removeItem: removeNestedItem,\n      Up: UpNested,\n      Down: DownNested,\n      list: nestedList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), \" \");\n  }) : null, form ? React.createElement(AddNestedItem, {\n    addNestedItem: addNestedItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }) : \"\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/home/cubex/my finished projects/Nested Lists/src/List.js"],"names":["React","useState","axios","AddNestedItem","List","item","sortKey","index","id","removeItem","Up","Down","list","form","setForm","nestedList","setNestedList","move","array","from","to","sortKeyTo","addNestedItem","message","currentIds","map","data","idToBeAdded","includes","post","nested","newList","removeNestedItem","splice","UpNested","DownNested","length","sort","a","b","indexOf"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from 'axios'\nimport AddNestedItem from \"./AddNestedItem\";\nimport './App.scss'\nexport default function List({ item, sortKey, index, id, removeItem, Up, Down, list }) {\n    // Toggle form for adding new list item\n  const [form, setForm] = useState(false);\n\n  const [nestedList, setNestedList] = useState([])\n\n  const move = (array, from, to,) => {\n    const sortKeyTo = array[from].sortKey;\n   \n\n    array[from].sortKey = array[to].sortKey;\n    \n    array[to].sortKey = sortKeyTo;\n   \n    return array\n}\n\n\n\n  const addNestedItem = message => {\n    let currentIds = nestedList.map(data => data.id);\n    let idToBeAdded = 0;\n    while (currentIds.includes(idToBeAdded)) {\n      ++idToBeAdded;\n    }\n    axios.post(\"http://localhost:3001/list/add\", { \n      \n      sortKey:idToBeAdded,\n      message: message,\n      nested:{}\n      \n      });\n    const newList = [...nestedList, { id: idToBeAdded, sortKey:idToBeAdded, message }];\n    setNestedList(newList);\n  };\n\n  const removeNestedItem = index => {\n    const newList = [...nestedList];\n    newList.splice(index, 1);\n    setNestedList(newList);\n  };\n\n\n\n\n  // Move elements in array up and down\nconst UpNested = (id, array) => {\n  const newList = [...nestedList]\n  // setList(newList)\n   setNestedList(move(newList, id, id-1))\n  \n}\nconst DownNested = (id, array) => {\n  const newList = [...nestedList]\n  // setList(newList)\n   setNestedList(move(newList, id, id+1))\n\n}\n\n\n\n\n// console.log(nestedList.map(a=>a.text))\nreturn (\n    <div >\n      \n        \n        {item.message}\n      \n        <br/>\n         <button onClick={() => removeItem(id)}>Remove</button>{\" \"}\n       <button onClick={() => setForm(!form)}>Add Sublist</button>\n        \n        { id!==0?<button onClick={()=>Up(id, nestedList)} >Up</button>:null} \n{id!==list.length-1 ?<button onClick={()=>Down(id, nestedList)}>Down</button>:null}\n{nestedList.length >0 ?<button onClick={()=>setNestedList([])}>Remove Sublist</button>:null}\n\n\n       \n      {/* {item.nested.text} */}\n     \n<ul> \n\n{nestedList.length>0 ? nestedList.sort((a, b)=>a.sortKey - b.sortKey).map((item, index)=> \n  <li key={item.id}>\n <List \n \n item={item} \n index={item.id} \n id={nestedList.indexOf(item)}\n indexof={nestedList.indexOf(item)}\n  removeItem={removeNestedItem} \n  Up={UpNested}\n Down={DownNested} \n   list={nestedList}/> </li>  ):null}\n\n\n{form ? <AddNestedItem  addNestedItem={addNestedItem}/> : \"\"}\n</ul>\n\n\n\n\n\n\n\n {/*nestedList.length>=0 ? nestedList.map(a=><li>{a.text}</li>):null} \n\n\n\n \n     {/* <li> <ul>{Array.isArray(item.nested) ? <List item={item.nested.map(a=>a)} index={index} id={id} removeItem={removeItem} Up={Up} Down={Down} list={list} />:null}</ul>  </li>  */}\n\n      \n      <div />\n    </div>\n  );\n  \n}\n"]},"metadata":{},"sourceType":"module"}